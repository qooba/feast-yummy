kind: config
metadata: 
  name: myconfig
spec:
  stores:
    - name: local
      path: "/tmp/delta-test-1/"
    - name: local2
      path: "/tmp/delta-test-2/"
    - name: az
      path: "az://delta-test-1/"
---
kind: table
metadata: 
  name: mytable
  store: az
spec:
  table: "test_delta_4"
  schema:
    - name: col1
      type: integer
      nullable: false
    - name: col2
      type: string
      nullable: false
  partition_columns: ["col2"]
  comment: "Hello from delta"
---
kind: optimize
metadata: 
  name: optimize_test_4
  table: "test_delta_4"
  store: az
spec:
  target_size: 2000000
  filters: 
    - column: col2
      operator: "="
      value: "B"
---
kind: vacuum
metadata: 
  name: vacuum_test_4
  table: "test_delta_4"
  store: az
spec:
  retention_period_seconds: 0
  enforce_retention_duration: false
  dry_run: false


